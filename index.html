<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="CSS/style.css">
    <title>Autenticacion con Google</title>

    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="184592217640-kp3jvrt272ck833gm0ml1cu9kmiul08r.apps.googleusercontent.com">
</head>
<body>

    <section class="container-xl mt-5">
        <div class="row justify-content-center">
            <div class="col col-md-6 col-sm-10">
                <div class="card mt-5 mb-5 div-card">
                    <div class="card-header">
                        <h3 class="text-center">Ingresar</h3>
                    </div>
                    <div class="card-body">
                        <form action="home-page.html">
                            <div class="mb-3">
                                <i class="fa-solid fa-user-secret" style="color: #636364;"></i>
                                <label for="name" class="form-label">Usuario</label>
                                <input type="email" class="form-control" id="name"  required placeholder="nombre ejemplo">
                            </div>
                            <div class="mb-3">
                                <i class="fa-solid fa-envelope" style="color: #636364;"></i>
                                <label for="email" class="form-label">Email </label>
                                <input type="email" class="form-control" id="email" required placeholder="name@example.com">
                            </div>
                    </div>
                    <div class="card-footer">
                        <div class="d-flex justify-content-evenly">
                            <div class="">
                                <button type="submit" class="btn btn-primary mb-3" id="submit">Acceder 
                                    <i class="fa-solid fa-arrow-right-from-bracket" style="color: #fcfcfc;padding-left: 10px;"></i>
                                </button>
                            </div>
                        </form>
                            <div class=""> 
                                <div class="g-signin2" data-onsuccess="onSignIn"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

   
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import{ getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js"

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBU8vVmU0C3chBagi6tyfelVdynQhwCuPM",
            authDomain: "contactos-cd647.firebaseapp.com",
            projectId: "contactos-cd647",
            storageBucket: "contactos-cd647.appspot.com",
            messagingSenderId: "286767967122",
            appId: "1:286767967122:web:98a5f80c66c6a83f416f4b"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);

        const db = getDatabase(app);
        document.getElementById("submit").addEventListener('click', function(e){
            e.preventDefault();
            set(ref(db, 'user/' + document.getElementById("name").value),
            {
                nombreUsuario: document.getElementById("name").value,
                mailusuario: document.getElementById("email").value,
            })
            alert("Acceso permitido");
        })
    </script>
    
</body>
</html>